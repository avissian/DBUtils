# Утилита автоматизации типовых задач работы с БД

(реинкарнация части функционала GINUtils по работе с БД)

Утилита состоит из двух файлов:
 - DBUtils.exe - самодостаточный исполняемый файл, не требует установки Oracle Client
 - config.yml - файл с настройками, в репозитории пароли заменены на ***, перед запуском необходимо прописать действующие пароли

При запуске начальное меню строится полностью исходя из списка databases конфига, поэтому добавляя или удаляя блоки можно настроить список баз данных под свои предпочтения.

Получить пример конфига можно запустив с ключом --help


## Переменные окружения

- PORT=<значение> - порт запуска веб-сервера (если не указан в конфиге)
- GIN_MODE=release - отключить логирование запросов веб-сервера

## Запуск

### Простой режим консоли

Запустить выполняемый файл без параметров

### Вебсервер

```shell
DButils.exe -web
```

Вебсервер запускается на порту, прописанном в конфиге. Если в конфиге порт не указан, или указан 0, то используется значение переменной окружения PORT. Если нет и переменной окружения, то запустится на умолчательном порту 8080

### Docker

#### Сборка образа

```shell
docker build -t dbutils .
```
Может потребоваться скачивание зависимостей через прокси, тогда поправить Dockerfile, закомментированная строка `ENV http_proxy <HTTP_PROXY>`

#### Запуск

```shell
docker run -d --name dbutils -e PORT=8080 -p "80:8080" dbutils
```

#### Swagger

Собирается при docker build и доступен на http://\<host\>/swagger